(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-376b67fc"],{"45fc":function(e,t,n){"use strict";var a=n("23e7"),s=n("b727").some,i=n("a640"),o=n("ae40"),r=i("some"),c=o("some");a({target:"Array",proto:!0,forced:!r||!c},{some:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},4795:function(e,t,n){},"487d":function(e,t,n){"use strict";var a=n("4795"),s=n.n(a);s.a},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.3f891336.png"},"77b8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("div",{staticClass:"header-left"},[a("div",{staticClass:"layout-logo"},[a("img",{attrs:{src:n("4ffd")}})]),a("div",{staticClass:"openShrink"},[a("Icon",{attrs:{type:"md-apps",size:"30"},on:{click:e.toggleCollapse}})],1)]),a("div",{staticClass:"handle"},[a("user")],1)]),a("Layout",[a("Sider",{ref:"side",style:{background:"#fff"},attrs:{"hide-trigger":"",collapsible:"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[a("Menu",{ref:"menu",class:e.menuitemClasses,attrs:{accordion:"",theme:"dark",width:"auto","active-name":e.activeName,"open-names":e.openNames},on:{"on-select":e.handleMenuItem,"on-open-change":e.handleMenuOpen}},e._l(e.menuList,(function(t,n){return a("div",{key:n},[t.children&&t.children.length>0?a("div",[a("Submenu",{attrs:{name:t.name}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:t.icon}}),a("span",[e._v(e._s(t.name))])],1),e._l(t.children,(function(t,n){return a("div",{key:n},[a("MenuItem",{attrs:{name:t.path,to:t.path}},[e._v(e._s(t.name))])],1)}))],2)],1):a("div",[a("MenuItem",{attrs:{name:t.path,to:t.path}},[a("Icon",{attrs:{type:"ios-navigate"}}),a("span",[e._v(e._s(t.name))])],1)],1)])})),0)],1),a("Layout",{style:{padding:"0 24px 24px",marginTop:"15px"}},[a("div",{staticClass:"tags-nav"},[a("tags-nav")],1),a("Content",{style:{padding:"24px",background:"#fff"}},[a("router-view")],1)],1)],1)],1)],1)},s=[],i=(n("4160"),n("45fc"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{on:{"on-click":e.handleClick}},[n("Avatar",{attrs:{icon:"ios-person",size:"large"}},[e._v("下拉菜单")]),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"logout"}},[e._v("退出登录")])],1)],1)}),o=[],r={methods:{logout:function(){sessionStorage.clear(),this.$router.push("/login")},handleClick:function(e){switch(e){case"logout":this.logout();break}}}},c=r,u=n("2877"),l=Object(u["a"])(c,i,o,!1,null,null,null),m=l.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tags-nav"},e._l(e.tagNavListInfo,(function(t,a){return n("Tag",{key:a,attrs:{type:"dot",closable:"welcome"!==t.name,checkable:"",color:e.isActive(t)?"primary":"default"},on:{"on-close":function(n){return e.handleClose(t)}},nativeOn:{click:function(n){return e.turnToPage(t)}}},[e._v(e._s(t.meta.title))])})),1)},h=[],d=(n("fb6a"),n("b0c0"),{data:function(){return{}},computed:{tagNavListInfo:function(){return this.$store.state.tagNavList}},methods:{isActive:function(e){return e.path===this.$route.path},handleClose:function(e){var t=this;this.$store.dispatch("deleteTag",e).then((function(e){var n=e.slice(-1)[0];if(n){var a=n.name,s=n.params,i=n.query,o=n.meta,r=n.path;t.$router.push({name:a,params:s,query:i,meta:o,path:r})}else t.$router.push("/")}))},turnToPage:function(e){var t=e.name,n=e.params,a=e.query,s=e.meta,i=e.path;this.$router.push({name:t,params:n,query:a,meta:s,path:i})}}}),f=d,v=(n("487d"),Object(u["a"])(f,p,h,!1,null,"818aa14c",null)),g=v.exports,N={components:{User:m,tagsNav:g},data:function(){return{isCollapsed:!1,menuList:[],activeName:"",openNames:[]}},computed:{rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},menuitemClasses:function(){return["menu-item",this.isCollapsed?"collapsed-menu":""]}},mounted:function(){this.getMenuListInfo()},methods:{getMenuListInfo:function(){var e=[{name:"首页",path:"/welcome"},{name:"用户管理",icon:"ios-contact-outline",children:[{parentName:"用户管理",name:"用户列表",path:"/users"}]},{name:"系统管理",icon:"ios-keypad",children:[{parentName:"系统管理",name:"角色列表",path:"/roles"},{parentName:"系统管理",name:"权限列表",path:"/rights"}]}];this.menuList=e,this.setActiveNameAndOpenNames()},toggleCollapse:function(){this.$refs.side.toggleCollapse()},handleMenuItem:function(e){this.isCollapsed=!1,this.activeName=e},handleMenuOpen:function(e){this.isCollapsed=!1,this.openNames=e},setActiveNameAndOpenNames:function(e){var t=this;e&&sessionStorage.setItem("activeName",e.path);var n=sessionStorage.getItem("activeName")||"/welcome",a=this.menuList.some((function(e){return e.path===n})),s=!1;try{this.menuList.forEach((function(e){if(e.children&&(s=e.children.some((function(e){return e.path===n})),s))throw new Error(!0)}))}catch(i){console.log(i)}n&&a||n&&s?this.menuList.forEach((function(e){e.path===n&&(t.activeName=n,t.openNames=[]),e.children&&e.children.forEach((function(e){e.path===n&&(t.activeName=n,t.openNames=[e.parentName])}))})):(this.activeName="",this.openNames=[])}},watch:{$route:function(e){this.setActiveNameAndOpenNames(e)},activeName:function(){var e=this;this.$nextTick((function(){e.$refs.menu.updateActiveName()}))},openNames:function(){var e=this;this.$nextTick((function(){e.$refs.menu.updateOpened()}))},isCollapsed:function(e){e?this.openNames=[]:this.setActiveNameAndOpenNames()}}},C=N,b=(n("b4ff"),Object(u["a"])(C,a,s,!1,null,"4ebc0bd4",null));t["default"]=b.exports},"7fd7":function(e,t,n){},b4ff:function(e,t,n){"use strict";var a=n("7fd7"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-376b67fc.d79c304a.js.map